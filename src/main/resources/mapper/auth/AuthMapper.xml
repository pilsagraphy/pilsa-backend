<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.back.auth.mapper.AuthMapper">

</mapper>

<!--<?xml version="1.0" encoding="UTF-8" ?>-->
<!--<!DOCTYPE mapper-->
<!--        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"-->
<!--        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">-->

<!--<mapper namespace="com.back.auth.mapper.AuthMapper">-->

<!--    &lt;!&ndash; email로 회원 찾기 &ndash;&gt;-->
<!--    <select id="findByEmail" parameterType="string" resultType="com.back.auth.dto.UserDto">-->
<!--        SELECT-->
<!--            user_id         AS userId,-->
<!--            user_email      AS userEmail,-->
<!--            user_password   AS userPassword,-->
<!--            user_role       AS userRole,-->
<!--            manager_phone_access AS managerPhoneAccess,-->
<!--            center_id       AS centerId,-->
<!--            user_name       AS userName,-->
<!--            user_phone      AS userPhone,-->
<!--            user_approved   AS userApproved,-->
<!--            user_created_at AS userCreatedAt,-->
<!--            CASE WHEN is_super = 'Y' THEN TRUE ELSE FALSE END AS isSuper,-->
<!--            can_allocate AS canAllocate-->
<!--        FROM users-->
<!--        WHERE user_email = #{email}-->
<!--    </select>-->

<!--    &lt;!&ndash; phone으로 회원 찾기 &ndash;&gt;-->
<!--    <select id="findByPhone" parameterType="string" resultType="com.blue.auth.dto.UserDto">-->
<!--        SELECT-->
<!--            user_id         AS userId,-->
<!--            user_email      AS userEmail,-->
<!--            user_password   AS userPassword,-->
<!--            user_role       AS userRole,-->
<!--            manager_phone_access AS managerPhoneAccess,-->
<!--            center_id       AS centerId,-->
<!--            user_name       AS userName,-->
<!--            user_phone      AS userPhone,-->
<!--            user_approved   AS userApproved,-->
<!--            user_created_at AS userCreatedAt,-->
<!--            CASE WHEN is_super = 'Y' THEN TRUE ELSE FALSE END AS isSuper,-->
<!--            can_allocate AS canAllocate-->
<!--        FROM users-->
<!--        WHERE user_phone = #{phone}-->
<!--    </select>-->

<!--    &lt;!&ndash; 회원가입 (회원 추가) &ndash;&gt;-->
<!--    <insert id="insertUser" parameterType="com.blue.auth.dto.UserDto">-->
<!--        INSERT INTO users (-->
<!--            user_email, user_password, user_role, manager_phone_access, can_allocate,-->
<!--            center_id, user_name, user_phone, user_approved, user_created_at-->
<!--        )-->
<!--        VALUES (-->
<!--                   #{userEmail}, #{userPassword}, #{userRole}, #{managerPhoneAccess}, #{canAllocate},-->
<!--                   #{centerId}, #{userName}, #{userPhone}, #{userApproved}, NOW()-->
<!--               )-->
<!--    </insert>-->

<!--    &lt;!&ndash; 비밀번호 업데이트 &ndash;&gt;-->
<!--    <update id="updatePassword">-->
<!--        UPDATE users-->
<!--        SET user_password = #{password}-->
<!--        WHERE user_id = #{id}-->
<!--    </update>-->

<!--</mapper>-->